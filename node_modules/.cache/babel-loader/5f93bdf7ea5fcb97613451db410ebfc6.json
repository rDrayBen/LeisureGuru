{"ast":null,"code":"var _jsxFileName = \"D:\\\\MyProjects\\\\Technomoles\\\\LeisureGuruFE\\\\src\\\\components\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Header from \"./Header\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Login = function () {\n  _s();\n\n  const [password, setPassword] = useState('');\n  const [email, setEmail] = useState('');\n  const [dirtyEmail, setDirtyEmail] = useState(false);\n  const [dirtyPassword, setDirtyPassword] = useState(false);\n  const [errorEmail, setErrorEmail] = useState('Email field can`t be empty');\n  const [errorPassword, setErrorPassword] = useState('Password field can`t be empty');\n  const [formValid, setFormValid] = useState(false);\n  const [loginErrorMessage, setLoginErrorMessage] = useState();\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (errorEmail || errorPassword) {\n      setFormValid(false);\n    } else {\n      setFormValid(true);\n    }\n  }, [errorEmail, errorPassword]);\n\n  const emailHandler = e => {\n    setDirtyEmail(true);\n    const re = /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\n\n    if (!e.target.value) {\n      setErrorEmail('Email can`t be empty');\n    } else if (!re.test(String(e.target.value).toLowerCase())) {\n      setErrorEmail('Incorrect email');\n    } else {\n      setErrorEmail(\"\");\n    }\n  };\n\n  const passwordHandler = e => {\n    setDirtyPassword(true);\n    setPassword(e.target.value);\n\n    if (e.target.value.length < 8) {\n      setErrorPassword('Your password should have at least 8 characters');\n\n      if (!e.target.value) {\n        setErrorPassword('Password can`t be empty');\n      }\n    } else {\n      setErrorPassword(\"\");\n    }\n  };\n\n  const handleSubmit = event => {\n    //Prevent page reload\n    event.preventDefault();\n    var {\n      email,\n      pass\n    } = document.forms[0]; // Find user login info\n\n    const userData = database.find(user => user.email === email.value); // Compare user info\n\n    if (userData) {\n      if (userData.password !== pass.value) {\n        setLoginErrorMessage(\"Invalid password\");\n      } else {\n        navigate(\"/homepage\");\n      }\n    } else {\n      setLoginErrorMessage(\"Email not found\");\n    }\n  };\n\n  const renderForm = /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-body\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"username\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form__label\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => emailHandler(e),\n            onBlur: e => emailHandler(e),\n            type: \"text\",\n            name: \"email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 11\n          }, this), dirtyEmail && errorEmail && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: 'red'\n            },\n            children: errorEmail\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 42\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"password\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"form__label\",\n            children: \"Password \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 11\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            onChange: e => passwordHandler(e),\n            onBlur: e => passwordHandler(e),\n            type: \"password\",\n            name: \"pass\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 11\n          }, this), dirtyPassword && errorPassword && /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              color: 'red'\n            },\n            children: errorPassword\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 48\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          disabled: !formValid,\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 11\n        }, this), loginErrorMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'red'\n          },\n          children: loginErrorMessage\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 35\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 7\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this); // User Login info\n\n\n  const database = [{\n    email: \"jonny.hehheh.kn.2021@lpnu.ua\",\n    password: \"pass1234\"\n  }, {\n    email: \"leisure.guru@lpnu.ua\",\n    password: \"pass2\"\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Login\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: Header(\"Log in\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this), renderForm]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 108,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"7vFT4BFma6+g2CoLr75giwsV+uE=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useEffect","useState","Header","useNavigate","Login","password","setPassword","email","setEmail","dirtyEmail","setDirtyEmail","dirtyPassword","setDirtyPassword","errorEmail","setErrorEmail","errorPassword","setErrorPassword","formValid","setFormValid","loginErrorMessage","setLoginErrorMessage","navigate","emailHandler","e","re","target","value","test","String","toLowerCase","passwordHandler","length","handleSubmit","event","preventDefault","pass","document","forms","userData","database","find","user","renderForm","color"],"sources":["D:/MyProjects/Technomoles/LeisureGuruFE/src/components/Login.js"],"sourcesContent":["import React, {useEffect, useState } from \"react\";\r\nimport Header from \"./Header\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport const Login = function() {\r\n  const[password, setPassword] = useState('')\r\n  const[email, setEmail] = useState('')\r\n  const[dirtyEmail, setDirtyEmail] = useState(false)\r\n  const[dirtyPassword, setDirtyPassword] = useState(false)\r\n  const[errorEmail, setErrorEmail] = useState('Email field can`t be empty')\r\n  const[errorPassword, setErrorPassword] = useState('Password field can`t be empty')\r\n  const[formValid, setFormValid] = useState(false)\r\n  const [loginErrorMessage, setLoginErrorMessage] = useState();\r\n\r\n  const navigate = useNavigate();\r\n\r\n\r\n  useEffect (() => {\r\n    if (errorEmail || errorPassword) {\r\n      setFormValid(false);\r\n    } else {\r\n      setFormValid(true);\r\n    }\r\n  }, [errorEmail, errorPassword])\r\n\r\n\r\n  const emailHandler = (e) => {\r\n    setDirtyEmail(true)\r\n      const re =\r\n  /^(([^<>()[\\]\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@(([^<>()[\\]\\.,;:\\s@\\\"]+\\.)+[^<>()[\\]\\.,;:\\s@\\\"]{2,})$/i;\r\n    if (!e.target.value) {\r\n      setErrorEmail('Email can`t be empty')\r\n    } else if(!re.test(String(e.target.value).toLowerCase())) {\r\n        setErrorEmail('Incorrect email')\r\n    } else {\r\n      setErrorEmail(\"\")\r\n    }\r\n  }\r\n\r\n  const passwordHandler = (e) => {\r\n    setDirtyPassword(true)\r\n    setPassword(e.target.value)\r\n    if (e.target.value.length < 8) {\r\n      setErrorPassword('Your password should have at least 8 characters')\r\n      if (!e.target.value) {\r\n        setErrorPassword('Password can`t be empty');\r\n      }\r\n    }else{\r\n      setErrorPassword(\"\")\r\n    }\r\n  }\r\n\r\n  \r\n\r\n  const handleSubmit = (event) => {\r\n    //Prevent page reload\r\n    event.preventDefault();\r\n\r\n    var { email, pass } = document.forms[0];\r\n    // Find user login info\r\n    const userData = database.find((user) => user.email === email.value);\r\n    // Compare user info\r\n    if (userData) {\r\n      if (userData.password !== pass.value) {\r\n        setLoginErrorMessage(\"Invalid password\");\r\n      } else {\r\n        navigate(\"/homepage\");\r\n      }\r\n    } else {\r\n      setLoginErrorMessage(\"Email not found\");\r\n    }\r\n  };\r\n    \r\n  const renderForm = (\r\n    <div className=\"form\">\r\n        <div className=\"form-body\">\r\n      <form onSubmit={handleSubmit}>\r\n        <div className=\"username\">\r\n          <label className=\"form__label\">Email</label>\r\n          <input onChange={e => emailHandler(e)}  onBlur={e=>emailHandler(e)} type=\"text\" name=\"email\" required />\r\n          {(dirtyEmail && errorEmail) && <div style = {{color: 'red'}}>{errorEmail}</div>}\r\n        </div>\r\n        <div className=\"password\">\r\n          <label className=\"form__label\">Password </label>\r\n          <input onChange={e=>passwordHandler(e)} onBlur={e=>passwordHandler(e)} type=\"password\" name=\"pass\" required />\r\n          {(dirtyPassword && errorPassword) && <div style = {{color: 'red'}}>{errorPassword}</div>}\r\n        </div>\r\n          <button disabled = {!formValid} type=\"submit\">Login</button>\r\n          {(loginErrorMessage) && <div style = {{color: 'red'}}>{loginErrorMessage}</div>}\r\n      </form>\r\n      </div>\r\n    </div>\r\n  );\r\n    \r\n  // User Login info\r\n  const database = [\r\n    {\r\n      email: \"jonny.hehheh.kn.2021@lpnu.ua\",\r\n      password: \"pass1234\"\r\n    },\r\n    {\r\n      email: \"leisure.guru@lpnu.ua\",\r\n      password: \"pass2\"\r\n    }\r\n  ];\r\n\r\n    return(\r\n    <div className=\"Login\">\r\n      <div className=\"login-form\">\r\n        <div>{Header(\"Log in\")}</div>\r\n        {renderForm}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAA0C,OAA1C;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,WAAT,QAA4B,kBAA5B;;AAEA,OAAO,MAAMC,KAAK,GAAG,YAAW;EAAA;;EAC9B,MAAK,CAACC,QAAD,EAAWC,WAAX,IAA0BL,QAAQ,CAAC,EAAD,CAAvC;EACA,MAAK,CAACM,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAjC;EACA,MAAK,CAACQ,UAAD,EAAaC,aAAb,IAA8BT,QAAQ,CAAC,KAAD,CAA3C;EACA,MAAK,CAACU,aAAD,EAAgBC,gBAAhB,IAAoCX,QAAQ,CAAC,KAAD,CAAjD;EACA,MAAK,CAACY,UAAD,EAAaC,aAAb,IAA8Bb,QAAQ,CAAC,4BAAD,CAA3C;EACA,MAAK,CAACc,aAAD,EAAgBC,gBAAhB,IAAoCf,QAAQ,CAAC,+BAAD,CAAjD;EACA,MAAK,CAACgB,SAAD,EAAYC,YAAZ,IAA4BjB,QAAQ,CAAC,KAAD,CAAzC;EACA,MAAM,CAACkB,iBAAD,EAAoBC,oBAApB,IAA4CnB,QAAQ,EAA1D;EAEA,MAAMoB,QAAQ,GAAGlB,WAAW,EAA5B;EAGAH,SAAS,CAAE,MAAM;IACf,IAAIa,UAAU,IAAIE,aAAlB,EAAiC;MAC/BG,YAAY,CAAC,KAAD,CAAZ;IACD,CAFD,MAEO;MACLA,YAAY,CAAC,IAAD,CAAZ;IACD;EACF,CANQ,EAMN,CAACL,UAAD,EAAaE,aAAb,CANM,CAAT;;EASA,MAAMO,YAAY,GAAIC,CAAD,IAAO;IAC1Bb,aAAa,CAAC,IAAD,CAAb;IACE,MAAMc,EAAE,GACZ,sHADI;;IAEF,IAAI,CAACD,CAAC,CAACE,MAAF,CAASC,KAAd,EAAqB;MACnBZ,aAAa,CAAC,sBAAD,CAAb;IACD,CAFD,MAEO,IAAG,CAACU,EAAE,CAACG,IAAH,CAAQC,MAAM,CAACL,CAAC,CAACE,MAAF,CAASC,KAAV,CAAN,CAAuBG,WAAvB,EAAR,CAAJ,EAAmD;MACtDf,aAAa,CAAC,iBAAD,CAAb;IACH,CAFM,MAEA;MACLA,aAAa,CAAC,EAAD,CAAb;IACD;EACF,CAXD;;EAaA,MAAMgB,eAAe,GAAIP,CAAD,IAAO;IAC7BX,gBAAgB,CAAC,IAAD,CAAhB;IACAN,WAAW,CAACiB,CAAC,CAACE,MAAF,CAASC,KAAV,CAAX;;IACA,IAAIH,CAAC,CAACE,MAAF,CAASC,KAAT,CAAeK,MAAf,GAAwB,CAA5B,EAA+B;MAC7Bf,gBAAgB,CAAC,iDAAD,CAAhB;;MACA,IAAI,CAACO,CAAC,CAACE,MAAF,CAASC,KAAd,EAAqB;QACnBV,gBAAgB,CAAC,yBAAD,CAAhB;MACD;IACF,CALD,MAKK;MACHA,gBAAgB,CAAC,EAAD,CAAhB;IACD;EACF,CAXD;;EAeA,MAAMgB,YAAY,GAAIC,KAAD,IAAW;IAC9B;IACAA,KAAK,CAACC,cAAN;IAEA,IAAI;MAAE3B,KAAF;MAAS4B;IAAT,IAAkBC,QAAQ,CAACC,KAAT,CAAe,CAAf,CAAtB,CAJ8B,CAK9B;;IACA,MAAMC,QAAQ,GAAGC,QAAQ,CAACC,IAAT,CAAeC,IAAD,IAAUA,IAAI,CAAClC,KAAL,KAAeA,KAAK,CAACmB,KAA7C,CAAjB,CAN8B,CAO9B;;IACA,IAAIY,QAAJ,EAAc;MACZ,IAAIA,QAAQ,CAACjC,QAAT,KAAsB8B,IAAI,CAACT,KAA/B,EAAsC;QACpCN,oBAAoB,CAAC,kBAAD,CAApB;MACD,CAFD,MAEO;QACLC,QAAQ,CAAC,WAAD,CAAR;MACD;IACF,CAND,MAMO;MACLD,oBAAoB,CAAC,iBAAD,CAApB;IACD;EACF,CAjBD;;EAmBA,MAAMsB,UAAU,gBACd;IAAK,SAAS,EAAC,MAAf;IAAA,uBACI;MAAK,SAAS,EAAC,WAAf;MAAA,uBACF;QAAM,QAAQ,EAAEV,YAAhB;QAAA,wBACE;UAAK,SAAS,EAAC,UAAf;UAAA,wBACE;YAAO,SAAS,EAAC,aAAjB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADF,eAEE;YAAO,QAAQ,EAAET,CAAC,IAAID,YAAY,CAACC,CAAD,CAAlC;YAAwC,MAAM,EAAEA,CAAC,IAAED,YAAY,CAACC,CAAD,CAA/D;YAAoE,IAAI,EAAC,MAAzE;YAAgF,IAAI,EAAC,OAArF;YAA6F,QAAQ;UAArG;YAAA;YAAA;YAAA;UAAA,QAFF,EAGId,UAAU,IAAII,UAAf,iBAA8B;YAAK,KAAK,EAAI;cAAC8B,KAAK,EAAE;YAAR,CAAd;YAAA,UAA+B9B;UAA/B;YAAA;YAAA;YAAA;UAAA,QAHjC;QAAA;UAAA;UAAA;UAAA;QAAA,QADF,eAME;UAAK,SAAS,EAAC,UAAf;UAAA,wBACE;YAAO,SAAS,EAAC,aAAjB;YAAA;UAAA;YAAA;YAAA;YAAA;UAAA,QADF,eAEE;YAAO,QAAQ,EAAEU,CAAC,IAAEO,eAAe,CAACP,CAAD,CAAnC;YAAwC,MAAM,EAAEA,CAAC,IAAEO,eAAe,CAACP,CAAD,CAAlE;YAAuE,IAAI,EAAC,UAA5E;YAAuF,IAAI,EAAC,MAA5F;YAAmG,QAAQ;UAA3G;YAAA;YAAA;YAAA;UAAA,QAFF,EAGIZ,aAAa,IAAII,aAAlB,iBAAoC;YAAK,KAAK,EAAI;cAAC4B,KAAK,EAAE;YAAR,CAAd;YAAA,UAA+B5B;UAA/B;YAAA;YAAA;YAAA;UAAA,QAHvC;QAAA;UAAA;UAAA;UAAA;QAAA,QANF,eAWI;UAAQ,QAAQ,EAAI,CAACE,SAArB;UAAgC,IAAI,EAAC,QAArC;UAAA;QAAA;UAAA;UAAA;UAAA;QAAA,QAXJ,EAYME,iBAAD,iBAAuB;UAAK,KAAK,EAAI;YAACwB,KAAK,EAAE;UAAR,CAAd;UAAA,UAA+BxB;QAA/B;UAAA;UAAA;UAAA;QAAA,QAZ5B;MAAA;QAAA;QAAA;QAAA;MAAA;IADE;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QADF,CArE8B,CA0F9B;;;EACA,MAAMoB,QAAQ,GAAG,CACf;IACEhC,KAAK,EAAE,8BADT;IAEEF,QAAQ,EAAE;EAFZ,CADe,EAKf;IACEE,KAAK,EAAE,sBADT;IAEEF,QAAQ,EAAE;EAFZ,CALe,CAAjB;EAWE,oBACA;IAAK,SAAS,EAAC,OAAf;IAAA,uBACE;MAAK,SAAS,EAAC,YAAf;MAAA,wBACE;QAAA,UAAMH,MAAM,CAAC,QAAD;MAAZ;QAAA;QAAA;QAAA;MAAA,QADF,EAEGwC,UAFH;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADA;AAQH,CA9GM;;GAAMtC,K;UAUMD,W;;;KAVNC,K"},"metadata":{},"sourceType":"module"}