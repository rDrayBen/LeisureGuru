{"ast":null,"code":"import _slicedToArray from\"D:/MyProjects/Technomoles/LeisureGuruFE/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from\"react\";import{useLocation,useParams}from\"react-router-dom\";import{Card,CardBody,CardTitle,CardText,Carousel,CarouselItem,CarouselControl,CarouselIndicators}from'reactstrap';import{WiDayCloudyGusts,WiDayCloudy,WiNightShowers,WiDaySleetStorm}from\"react-icons/wi\";import'./style.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var Details=function Details(){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),activeIndex=_useState2[0],setActiveIndex=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),animating=_useState4[0],setAnimating=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),images=_useState6[0],setImages=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),placeData=_useState8[0],setPlaceData=_useState8[1];var _useParams=useParams(),id=_useParams.id;var location=useLocation();var credentials=btoa(localStorage.getItem(\"email\")+\":\"+localStorage.getItem(\"password\"));console.log(credentials);var auth={\"Authorization\":\"Basic \".concat(credentials)};var next=function next(){if(animating)return;var nextIndex=activeIndex===images.length-1?0:activeIndex+1;setActiveIndex(nextIndex);};var previous=function previous(){if(animating)return;var nextIndex=activeIndex===0?images.length-1:activeIndex-1;setActiveIndex(nextIndex);};var goToIndex=function goToIndex(newIndex){if(animating)return;setActiveIndex(newIndex);};useEffect(function(){fetch(\"http://127.0.0.1:5000/place/photos/\".concat(id),{method:'GET',headers:auth,mode:'cors'}).then(function(response){return response.json();}).then(function(jsonResponse){setImages(jsonResponse);}).catch(function(e){return console.log(\"failed: \"+e);});fetch(\"http://127.0.0.1:5000/place/\".concat(id),{method:'GET',headers:auth,mode:'cors'}).then(function(response){return response.json();}).then(function(jsonResponse){setPlaceData(jsonResponse[0]);}).catch(function(e){return console.log(\"failed: \"+e);});},[]);var getItems=function getItems(images){var items=[];for(var i=0;i<images.length;i++){items[i]={src:images[i].image,key:i};}return items;};var getSlides=function getSlides(images){var items=getItems(images);return items.map(function(item){return/*#__PURE__*/_jsx(CarouselItem,{onExiting:function onExiting(){return setAnimating(true);},onExited:function onExited(){return setAnimating(false);},children:/*#__PURE__*/_jsx(\"img\",{src:item.src,alt:item.altText,style:{height:'600px',display:'block',margin:'auto'}})},item.src);});};var dailyWeather=[{title:'Today',icon:/*#__PURE__*/_jsx(WiDayCloudyGusts,{}),temperature:'2°'},{title:'21.12.2022',icon:/*#__PURE__*/_jsx(WiDayCloudy,{}),temperature:'4°'},{title:'22.12.2022',icon:/*#__PURE__*/_jsx(WiNightShowers,{}),temperature:'-1°'},{title:'23.12.2022',icon:/*#__PURE__*/_jsx(WiNightShowers,{}),temperature:'-3°'},{title:'24.12.2022',icon:/*#__PURE__*/_jsx(WiDaySleetStorm,{}),temperature:'0°'},{title:'25.12.2022',icon:/*#__PURE__*/_jsx(WiNightShowers,{}),temperature:'-1°'},{title:'26.12.2022',icon:/*#__PURE__*/_jsx(WiDaySleetStorm,{}),temperature:'1°'}];return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Carousel,{activeIndex:activeIndex,next:next,previous:previous,children:[/*#__PURE__*/_jsx(CarouselIndicators,{items:getItems(images),activeIndex:activeIndex,onClickHandler:goToIndex}),getSlides(images),/*#__PURE__*/_jsx(CarouselControl,{direction:\"prev\",directionText:\"Previous\",onClickHandler:previous}),/*#__PURE__*/_jsx(CarouselControl,{direction:\"next\",directionText:\"Next\",onClickHandler:next})]}),/*#__PURE__*/_jsx(Card,{className:\"my-2\",children:/*#__PURE__*/_jsxs(CardBody,{children:[/*#__PURE__*/_jsx(CardTitle,{tag:\"h5\",children:placeData.name}),/*#__PURE__*/_jsx(CardText,{children:placeData.description}),/*#__PURE__*/_jsx(CardText,{children:/*#__PURE__*/_jsxs(\"small\",{className:\"text-muted\",children:[\"Rating: \",placeData.rate]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"detailsWeatherPanel\",children:dailyWeather.map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"weatherCard\",children:[/*#__PURE__*/_jsx(\"div\",{children:item.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"weatherIcon\",children:[item.icon,item.temperature]})]});})})]});};","map":{"version":3,"names":["useState","useEffect","useLocation","useParams","Card","CardBody","CardTitle","CardText","Carousel","CarouselItem","CarouselControl","CarouselIndicators","WiDayCloudyGusts","WiDayCloudy","WiNightShowers","WiDaySleetStorm","Details","activeIndex","setActiveIndex","animating","setAnimating","images","setImages","placeData","setPlaceData","id","location","credentials","btoa","localStorage","getItem","console","log","auth","next","nextIndex","length","previous","goToIndex","newIndex","fetch","method","headers","mode","then","response","json","jsonResponse","catch","e","getItems","items","i","src","image","key","getSlides","map","item","altText","height","display","margin","dailyWeather","title","icon","temperature","name","description","rate"],"sources":["D:/MyProjects/Technomoles/LeisureGuruFE/src/components/Details.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useLocation, useParams } from \"react-router-dom\";\r\nimport {\r\n    Card,\r\n    CardBody,\r\n    CardTitle,\r\n    CardText,\r\n    Carousel,\r\n    CarouselItem,\r\n    CarouselControl,\r\n    CarouselIndicators,\r\n} from 'reactstrap';\r\nimport { WiDayCloudyGusts, WiDayCloudy, WiNightShowers, WiDaySleetStorm} from \"react-icons/wi\";\r\nimport './style.css'\r\n\r\n\r\nexport const Details = function () {\r\n    const [activeIndex, setActiveIndex] = useState(0);\r\n    const [animating, setAnimating] = useState(false);\r\n    const [images, setImages] = useState([]);\r\n    const [placeData, setPlaceData] = useState({});\r\n    const {id} = useParams();\r\n    const location = useLocation();\r\n    var credentials = btoa(localStorage.getItem(\"email\") + \":\" + localStorage.getItem(\"password\"))\r\n    console.log(credentials)\r\n    var auth = { \"Authorization\": `Basic ${credentials}` }\r\n\r\n\r\n    const next = () => {\r\n        if (animating) return;\r\n        const nextIndex = activeIndex === images.length - 1 ? 0 : activeIndex + 1;\r\n        setActiveIndex(nextIndex);\r\n    };\r\n\r\n    const previous = () => {\r\n        if (animating) return;\r\n        const nextIndex = activeIndex === 0 ? images.length - 1 : activeIndex - 1;\r\n        setActiveIndex(nextIndex);\r\n    };\r\n\r\n    const goToIndex = (newIndex) => {\r\n        if (animating) return;\r\n        setActiveIndex(newIndex);\r\n    };\r\n\r\n\r\n    useEffect(() => {\r\n        fetch(`http://127.0.0.1:5000/place/photos/${id}`, {\r\n            method: 'GET',\r\n            headers: auth,\r\n            mode: 'cors'\r\n        })\r\n            .then(response => response.json())\r\n            .then(jsonResponse => {\r\n\r\n                setImages(jsonResponse);\r\n            })\r\n            .catch(e => console.log(\"failed: \" + e));\r\n\r\n\r\n\r\n\r\n        fetch(`http://127.0.0.1:5000/place/${id}`, {\r\n            method: 'GET',\r\n            headers: auth,\r\n            mode: 'cors'\r\n        })\r\n            .then(response => response.json())\r\n            .then(jsonResponse => {\r\n\r\n                setPlaceData(jsonResponse[0]);\r\n              \r\n                \r\n            })\r\n            .catch(e => console.log(\"failed: \" + e));\r\n\r\n\r\n\r\n    }, []);\r\n\r\n    const getItems = (images) => {\r\n        let items = [];\r\n        for (let i = 0; i < images.length; i++) {\r\n            items[i] = {\r\n                src: images[i].image,\r\n                key: i\r\n            }\r\n        }\r\n        return items;\r\n    };\r\n\r\n    const getSlides = (images) => {\r\n        const items = getItems(images);\r\n\r\n        return items.map((item) => {\r\n        \r\n            return (\r\n                <CarouselItem\r\n                    key={item.src}\r\n                    onExiting={() => setAnimating(true)}\r\n                    onExited={() => setAnimating(false)}\r\n                >\r\n                    <img src={item.src} alt={item.altText} style={{ height: '600px', display: 'block', margin: 'auto' }} />\r\n                </CarouselItem>\r\n            );\r\n        });\r\n    }\r\n\r\n    const dailyWeather = [\r\n        {\r\n            title: 'Today',\r\n            icon: <WiDayCloudyGusts/>,\r\n            temperature: '2°'\r\n        },\r\n        {\r\n            title: '21.12.2022',\r\n            icon: <WiDayCloudy/>,\r\n            temperature: '4°'\r\n        },\r\n        {\r\n            title: '22.12.2022',\r\n            icon: <WiNightShowers/>,\r\n            temperature: '-1°'\r\n        },\r\n        {\r\n            title: '23.12.2022',\r\n            icon: <WiNightShowers/>,\r\n            temperature: '-3°'\r\n        },\r\n        {\r\n            title: '24.12.2022',\r\n            icon: <WiDaySleetStorm/>,\r\n            temperature: '0°'\r\n        },\r\n        {\r\n            title: '25.12.2022',\r\n            icon: <WiNightShowers/>,\r\n            temperature: '-1°'\r\n        },\r\n        {\r\n            title: '26.12.2022',\r\n            icon: <WiDaySleetStorm/>,\r\n            temperature: '1°'\r\n        }\r\n    ];\r\n\r\n    return (\r\n        <div>\r\n            <Carousel\r\n                activeIndex={activeIndex}\r\n                next={next}\r\n                previous={previous}\r\n            >\r\n                <CarouselIndicators\r\n                    items={getItems(images)}\r\n                    activeIndex={activeIndex}\r\n                    onClickHandler={goToIndex}\r\n                />\r\n                {getSlides(images)}\r\n                <CarouselControl\r\n                    direction=\"prev\"\r\n                    directionText=\"Previous\"\r\n                    onClickHandler={previous}\r\n                />\r\n                <CarouselControl\r\n                    direction=\"next\"\r\n                    directionText=\"Next\"\r\n                    onClickHandler={next}\r\n                />\r\n            </Carousel>\r\n\r\n            <Card className=\"my-2\" >\r\n\r\n                <CardBody>\r\n                    <CardTitle tag=\"h5\">\r\n                        {placeData.name}\r\n                    </CardTitle>\r\n                    <CardText>\r\n                        {placeData.description}\r\n                    </CardText>\r\n                    <CardText>\r\n                        <small className=\"text-muted\">\r\n                            Rating: {placeData.rate}\r\n                        </small>\r\n                    </CardText>\r\n                </CardBody>\r\n            </Card>\r\n\r\n            <div className=\"detailsWeatherPanel\">\r\n                {dailyWeather.map(item => \r\n                    <div className=\"weatherCard\">\r\n                        <div>{item.title}</div>\r\n                        <div className=\"weatherIcon\">{item.icon}{item.temperature}</div>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n        </div>\r\n\r\n    )\r\n\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}