{"ast":null,"code":"var _jsxFileName = \"D:\\\\MyProjects\\\\Technomoles\\\\LeisureGuruFE\\\\src\\\\components\\\\DeleteConfirmation.js\",\n    _s = $RefreshSig$();\n\nimport React from 'react';\nimport { useState } from \"react\";\nimport { Button, Confirm } from 'react-admin';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst DeleteConfirmation = () => {\n  _s();\n\n  const [open, setOpen] = useState(false);\n\n  const handleClick = () => setOpen(true);\n\n  const handleDialogClose = () => setOpen(false);\n\n  const handleConfirm = e => {\n    setOpen(false);\n    e.stopPropagation();\n\n    if (window.confirm('Are sure want to delete?')) {\n      fetch('http://127.0.0.1:5000/user/' + id, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(response => {\n        if (response.status >= 200 && response.status <= 299) {\n          alert('We now don`t have any information about you');\n          localStorage.clear();\n          setServerEror('');\n          navigate(\"/\");\n          alert('We now don`t have any information about you');\n          localStorage.clear();\n        } else if (response.status == 400) {\n          setServerEror('Bad Request');\n        } else if (response.status == 404) {\n          setServerEror('Not Found');\n        } else if (response.status == 500) {\n          setServerEror('Internal Server Error');\n        } else if (response.status == 502) {\n          setServerEror('Bad Gateway');\n        } else if (response.status == 503) {\n          setServerEror('Service Unavailable');\n        } else if (response.status == 503) {\n          setServerEror('Gateway Timeout');\n        } else {\n          setServerEror('Unknown error');\n          navigate(\"/profile\");\n        }\n      });\n    } else {\n      navigate(\"/profile\");\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Button, {\n      label: \"Delete account\",\n      onClick: handleClick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Confirm, {\n      isOpen: open,\n      title: \"Delete my account\",\n      content: \"Are you sure you want to delete your account on LeisureGuru?\",\n      onConfirm: e => handleConfirm(e),\n      onClose: handleDialogClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n\n_s(DeleteConfirmation, \"xG1TONbKtDWtdOTrXaTAsNhPg/Q=\");\n\n_c = DeleteConfirmation;\nexport default DeleteConfirmation;\n\nvar _c;\n\n$RefreshReg$(_c, \"DeleteConfirmation\");","map":{"version":3,"names":["React","useState","Button","Confirm","DeleteConfirmation","open","setOpen","handleClick","handleDialogClose","handleConfirm","e","stopPropagation","window","confirm","fetch","id","method","headers","then","response","status","alert","localStorage","clear","setServerEror","navigate"],"sources":["D:/MyProjects/Technomoles/LeisureGuruFE/src/components/DeleteConfirmation.js"],"sourcesContent":["import React from 'react'\r\nimport { useState } from \"react\";\r\nimport {\r\n    Button,\r\n    Confirm\r\n} from 'react-admin';\r\n \r\nconst DeleteConfirmation = () => {\r\n    const [open, setOpen] = useState(false);\r\n\r\n    const handleClick = () => setOpen(true);\r\n    const handleDialogClose = () => setOpen(false);\r\n    const handleConfirm = (e) => {\r\n        setOpen(false);\r\n        e.stopPropagation();\r\n           if(window.confirm('Are sure want to delete?')) {\r\n                fetch('http://127.0.0.1:5000/user/' + id, {\r\n                    method: 'DELETE',\r\n                    headers: {\r\n                    'Content-Type': 'application/json'\r\n                    },\r\n                })\r\n                .then((response) => {\r\n                    if (response.status >= 200 && response.status <= 299) {\r\n                        alert('We now don`t have any information about you');\r\n                        localStorage.clear();\r\n                        setServerEror('')\r\n                        navigate(\"/\");\r\n                        alert('We now don`t have any information about you');\r\n                        localStorage.clear();\r\n                    } else if (response.status == 400) {\r\n                        setServerEror('Bad Request')\r\n                    } else if (response.status == 404) {\r\n                        setServerEror('Not Found')\r\n                    } else if (response.status == 500) {\r\n                        setServerEror ('Internal Server Error')\r\n                    } else if (response.status == 502) {\r\n                        setServerEror('Bad Gateway')\r\n                    } else if (response.status == 503) {\r\n                        setServerEror('Service Unavailable')\r\n                    } else if (response.status == 503) {\r\n                        setServerEror ('Gateway Timeout')\r\n                    }else{\r\n                        setServerEror('Unknown error')\r\n                        navigate(\"/profile\");\r\n                    }\r\n                })\r\n           } else {\r\n                navigate(\"/profile\");\r\n           }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <Button label=\"Delete account\" onClick={handleClick} />\r\n            <Confirm\r\n                isOpen={open}\r\n                title=\"Delete my account\"\r\n                content=\"Are you sure you want to delete your account on LeisureGuru?\"\r\n                onConfirm={(e) => handleConfirm(e)}\r\n                onClose={handleDialogClose}\r\n            />\r\n        </>\r\n    );\r\n}\r\n \r\nexport default DeleteConfirmation;"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SACIC,MADJ,EAEIC,OAFJ,QAGO,aAHP;;;;AAKA,MAAMC,kBAAkB,GAAG,MAAM;EAAA;;EAC7B,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAAC,KAAD,CAAhC;;EAEA,MAAMM,WAAW,GAAG,MAAMD,OAAO,CAAC,IAAD,CAAjC;;EACA,MAAME,iBAAiB,GAAG,MAAMF,OAAO,CAAC,KAAD,CAAvC;;EACA,MAAMG,aAAa,GAAIC,CAAD,IAAO;IACzBJ,OAAO,CAAC,KAAD,CAAP;IACAI,CAAC,CAACC,eAAF;;IACG,IAAGC,MAAM,CAACC,OAAP,CAAe,0BAAf,CAAH,EAA+C;MAC1CC,KAAK,CAAC,gCAAgCC,EAAjC,EAAqC;QACtCC,MAAM,EAAE,QAD8B;QAEtCC,OAAO,EAAE;UACT,gBAAgB;QADP;MAF6B,CAArC,CAAL,CAMCC,IAND,CAMOC,QAAD,IAAc;QAChB,IAAIA,QAAQ,CAACC,MAAT,IAAmB,GAAnB,IAA0BD,QAAQ,CAACC,MAAT,IAAmB,GAAjD,EAAsD;UAClDC,KAAK,CAAC,6CAAD,CAAL;UACAC,YAAY,CAACC,KAAb;UACAC,aAAa,CAAC,EAAD,CAAb;UACAC,QAAQ,CAAC,GAAD,CAAR;UACAJ,KAAK,CAAC,6CAAD,CAAL;UACAC,YAAY,CAACC,KAAb;QACH,CAPD,MAOO,IAAIJ,QAAQ,CAACC,MAAT,IAAmB,GAAvB,EAA4B;UAC/BI,aAAa,CAAC,aAAD,CAAb;QACH,CAFM,MAEA,IAAIL,QAAQ,CAACC,MAAT,IAAmB,GAAvB,EAA4B;UAC/BI,aAAa,CAAC,WAAD,CAAb;QACH,CAFM,MAEA,IAAIL,QAAQ,CAACC,MAAT,IAAmB,GAAvB,EAA4B;UAC/BI,aAAa,CAAE,uBAAF,CAAb;QACH,CAFM,MAEA,IAAIL,QAAQ,CAACC,MAAT,IAAmB,GAAvB,EAA4B;UAC/BI,aAAa,CAAC,aAAD,CAAb;QACH,CAFM,MAEA,IAAIL,QAAQ,CAACC,MAAT,IAAmB,GAAvB,EAA4B;UAC/BI,aAAa,CAAC,qBAAD,CAAb;QACH,CAFM,MAEA,IAAIL,QAAQ,CAACC,MAAT,IAAmB,GAAvB,EAA4B;UAC/BI,aAAa,CAAE,iBAAF,CAAb;QACH,CAFM,MAEF;UACDA,aAAa,CAAC,eAAD,CAAb;UACAC,QAAQ,CAAC,UAAD,CAAR;QACH;MACJ,CA9BD;IA+BJ,CAhCD,MAgCO;MACFA,QAAQ,CAAC,UAAD,CAAR;IACJ;EACP,CAtCD;;EAwCA,oBACI;IAAA,wBACI,QAAC,MAAD;MAAQ,KAAK,EAAC,gBAAd;MAA+B,OAAO,EAAElB;IAAxC;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI,QAAC,OAAD;MACI,MAAM,EAAEF,IADZ;MAEI,KAAK,EAAC,mBAFV;MAGI,OAAO,EAAC,8DAHZ;MAII,SAAS,EAAGK,CAAD,IAAOD,aAAa,CAACC,CAAD,CAJnC;MAKI,OAAO,EAAEF;IALb;MAAA;MAAA;MAAA;IAAA,QAFJ;EAAA,gBADJ;AAYH,CAzDD;;GAAMJ,kB;;KAAAA,kB;AA2DN,eAAeA,kBAAf"},"metadata":{},"sourceType":"module"}