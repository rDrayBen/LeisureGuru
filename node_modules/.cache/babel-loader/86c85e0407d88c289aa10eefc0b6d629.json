{"ast":null,"code":"var _jsxFileName = \"D:\\\\MyProjects\\\\Technomoles\\\\LeisureGuruFE\\\\src\\\\components\\\\Main.js\",\n    _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport { Rating } from \"./filters/Rating\";\nimport { Activities } from \"./filters/Activities\";\nimport { PlacesPanel } from \"./PlacesPanel\";\nimport { PlaceComponent } from \"./PlaceComponent\";\nimport { Date } from \"./filters/Date\";\nimport { AlertComponent } from \"./AlertComponent\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Main = function () {\n  _s();\n\n  const [rating, setRating] = useState(5);\n  const [date, setDate] = useState(0); // const [activities, setActivities] = useState();\n\n  const [selectedActivities, setSelectedActivities] = useState(new Array()); // const [selectedDate, setSelectedDate] = useState(\n  //     new Array()\n  // );\n\n  /*\r\n  1) Main -> FilterPanel & PlacesPanel\r\n  2) FilterPanel -> ActivityFilter, DateFilter & RatingFilter\r\n  3) Main:\r\n     <div>\r\n      <FilterPanel>\r\n      <PlacesPanel>\r\n     </div>\r\n  4) Main: state for \"rating\". \"setState\" \r\n  \r\n  */\n\n  /*{\r\n      info.map((infoIndex)=>(\r\n          <PlaceComponent \r\n          name={infoIndex.name} \r\n          photo={infoIndex.photo} \r\n          description={infoIndex.description} \r\n          raiting={infoIndex.raiting} \r\n          locationCountry={infoIndex.country}\r\n          locationCity={infoIndex.city}\r\n          authorized = {true}/>\r\n      ))\r\n  }*/\n\n  const [info, setInfo] = useState([]); // create useState for info thet we GET from db\n\n  useEffect(() => {\n    const getInformation = async () => {\n      const conn = await fetch('http://127.0.0.1:5000/homepage'); //create connection with db\n\n      const getdata = await conn.json();\n      /*const getdata = [\r\n          {\r\n              name: 'abc',\r\n              image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/16/Латинський_кафедральний_собор_%28Львів%29_16.jpg/270px-Латинський_кафедральний_собор_%28Львів%29_16.jpg',\r\n              description: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia,molestiae quas vel sint commodi repudiandae consequuntur voluptatum laborumnumquam blanditiis harum quisquam eius sed odit fugiat iusto fuga praesentiumoptio, eaque rerum! Provident similique accusantium nemo autem. Veritatisobcaecati tenetur iure eius earum ut molestias architecto voluptate aliquamnihil, eveniet aliquid culpa officia aut! Impedit sit sunt quaerat, odit,tenetur error, harum nesciunt ipsum debitis quas aliquid. Reprehenderit,quia.',\r\n              rate: 5,\r\n              country: 'Ukraine',\r\n              city: 'Lviv'\r\n          }\r\n      ];*/\n\n      setInfo(getdata);\n    };\n\n    getInformation();\n  }, []);\n  useEffect(() => {\n    console.log(\"filter changed \" + rating + \", \" + date + \", \" + selectedActivities); // fetch(\n    //     'http://127.0.0.1:5000/filter?' + new URLSearchParams({\n    //         rate: rating,\n    //         activities: selectedActivities,\n    //     }),\n    //     {\n    //         headers: {\n    //             'Content-Type': 'application/json'\n    //         }\n    //     }\n    // )\n\n    var credentials = btoa(localStorage.getItem(\"email\") + \":\" + localStorage.getItem(\"password\"));\n    console.log(credentials);\n    var auth = {\n      \"Authorization\": `Basic ${credentials}`\n    };\n    fetch('http://127.0.0.1:5000/filter', {\n      method: 'POST',\n      headers: {\n        'Authorization': `Basic ${credentials}`,\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      body: JSON.stringify({\n        rate: rating,\n        activities: selectedActivities\n      })\n    }).then(response => {\n      if (response.status >= 400) {\n        throw Error(400);\n      } else {\n        return response;\n      }\n    }).then(response => response.json()).then(jsonResponse => {\n      // let i = 9;\n      //console.log(\"JR: \" + jsonResponse);\n      return setInfo(jsonResponse);\n    }).catch(e => console.log(\"failed: \" + e)); //'server/filter?param=value&param2=value2' \n  }, [rating, date, selectedActivities]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"wrapper\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"left-panel\",\n      children: [/*#__PURE__*/_jsxDEV(Rating, {\n        setRating: setRating\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Activities, {\n        selectedActivities: selectedActivities,\n        setSelectedActivities: setSelectedActivities\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Date, {\n        date: date,\n        setDate: setDate\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main-panel\",\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        style: {\n          display: 'block'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"li\", {\n          style: {\n            display: 'inline-block'\n          },\n          children: info.map(infoIndex => /*#__PURE__*/_jsxDEV(PlaceComponent, {\n            id: infoIndex.id,\n            name: infoIndex.name,\n            image: infoIndex.image,\n            description: infoIndex.description,\n            rate: infoIndex.rate,\n            country: infoIndex.country,\n            city: infoIndex.city,\n            authorized: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 135,\n            columnNumber: 25\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(AlertComponent, {\n        authorized: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 152,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Main, \"ELnjVhkPhhPqIJRiuzIn5CIh+P0=\");\n\n_c = Main;\n\nvar _c;\n\n$RefreshReg$(_c, \"Main\");","map":{"version":3,"names":["useEffect","useState","Rating","Activities","PlacesPanel","PlaceComponent","Date","AlertComponent","Main","rating","setRating","date","setDate","selectedActivities","setSelectedActivities","Array","info","setInfo","getInformation","conn","fetch","getdata","json","console","log","credentials","btoa","localStorage","getItem","auth","method","headers","mode","body","JSON","stringify","rate","activities","then","response","status","Error","jsonResponse","catch","e","display","map","infoIndex","id","name","image","description","country","city"],"sources":["D:/MyProjects/Technomoles/LeisureGuruFE/src/components/Main.js"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport { Rating } from \"./filters/Rating\";\r\nimport { Activities } from \"./filters/Activities\";\r\nimport { PlacesPanel } from \"./PlacesPanel\";\r\nimport {PlaceComponent} from \"./PlaceComponent\"\r\nimport { Date } from \"./filters/Date\";\r\nimport {AlertComponent} from \"./AlertComponent\"\r\nexport const Main = function () {\r\n    const [rating, setRating] = useState(5);\r\n    const [date, setDate] = useState(0);\r\n    // const [activities, setActivities] = useState();\r\n\r\n    const [selectedActivities, setSelectedActivities] = useState(\r\n        new Array()\r\n    );\r\n    // const [selectedDate, setSelectedDate] = useState(\r\n    //     new Array()\r\n    // );\r\n    /*\r\n    1) Main -> FilterPanel & PlacesPanel\r\n    2) FilterPanel -> ActivityFilter, DateFilter & RatingFilter\r\n    3) Main:\r\n       <div>\r\n        <FilterPanel>\r\n        <PlacesPanel>\r\n       </div>\r\n    4) Main: state for \"rating\". \"setState\" \r\n    \r\n    */\r\n\r\n    /*{\r\n        info.map((infoIndex)=>(\r\n            <PlaceComponent \r\n            name={infoIndex.name} \r\n            photo={infoIndex.photo} \r\n            description={infoIndex.description} \r\n            raiting={infoIndex.raiting} \r\n            locationCountry={infoIndex.country}\r\n            locationCity={infoIndex.city}\r\n            authorized = {true}/>\r\n        ))\r\n    }*/\r\n\r\n    const [info, setInfo] = useState([]);// create useState for info thet we GET from db\r\n    useEffect(()=>{\r\n        const getInformation = async() => {\r\n            const conn = await fetch('http://127.0.0.1:5000/homepage'); //create connection with db\r\n            const getdata = await conn.json();\r\n            \r\n            /*const getdata = [\r\n                {\r\n                    name: 'abc',\r\n                    image: 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/16/Латинський_кафедральний_собор_%28Львів%29_16.jpg/270px-Латинський_кафедральний_собор_%28Львів%29_16.jpg',\r\n                    description: 'Lorem ipsum dolor sit amet consectetur adipisicing elit. Maxime mollitia,molestiae quas vel sint commodi repudiandae consequuntur voluptatum laborumnumquam blanditiis harum quisquam eius sed odit fugiat iusto fuga praesentiumoptio, eaque rerum! Provident similique accusantium nemo autem. Veritatisobcaecati tenetur iure eius earum ut molestias architecto voluptate aliquamnihil, eveniet aliquid culpa officia aut! Impedit sit sunt quaerat, odit,tenetur error, harum nesciunt ipsum debitis quas aliquid. Reprehenderit,quia.',\r\n                    rate: 5,\r\n                    country: 'Ukraine',\r\n                    city: 'Lviv'\r\n                }\r\n            ];*/\r\n            \r\n            setInfo(getdata);\r\n        }\r\n        getInformation();\r\n    },[]);\r\n\r\n    useEffect( () => {\r\n        console.log(\"filter changed \" + rating + \", \" + date + \", \" + selectedActivities);\r\n        // fetch(\r\n        //     'http://127.0.0.1:5000/filter?' + new URLSearchParams({\r\n        //         rate: rating,\r\n        //         activities: selectedActivities,\r\n        //     }),\r\n        //     {\r\n        //         headers: {\r\n        //             'Content-Type': 'application/json'\r\n        //         }\r\n                \r\n        //     }\r\n        // )\r\n        var credentials = btoa(localStorage.getItem(\"email\") + \":\" + localStorage.getItem(\"password\"))\r\n        console.log(credentials)\r\n        var auth = { \"Authorization\" : `Basic ${credentials}` }\r\n        fetch('http://127.0.0.1:5000/filter', {\r\n            method: 'POST',\r\n            headers: { \r\n                        'Authorization' : `Basic ${credentials}`,\r\n                        'Content-Type': 'application/json'\r\n                      },\r\n            mode: 'cors',\r\n            body: JSON.stringify(\r\n                {\r\n                    rate: rating,\r\n                    activities: selectedActivities,\r\n                }\r\n            )\r\n        })\r\n        .then(response => {\r\n            if (response.status >= 400) {\r\n                throw Error(400);\r\n            } else {\r\n                return response;\r\n            }\r\n        })\r\n        .then(response => response.json())\r\n        .then(jsonResponse => {\r\n          // let i = 9;\r\n           //console.log(\"JR: \" + jsonResponse);\r\n            return setInfo(jsonResponse);\r\n        })\r\n        .catch(e => console.log(\"failed: \" + e));\r\n        //'server/filter?param=value&param2=value2' \r\n    }, [rating, date, selectedActivities]\r\n\r\n    );\r\n    \r\n    return (\r\n        <div className=\"wrapper\">\r\n            <div className=\"left-panel\">\r\n                <Rating setRating={setRating} />\r\n                <Activities selectedActivities={selectedActivities} setSelectedActivities={setSelectedActivities}/>\r\n                <Date date={date} setDate={setDate}/>\r\n\r\n            </div>\r\n            {/* <div className=\"places-panel\">\r\n                \r\n                <PlacesPanel selectedActivities={selectedActivities} selectedDate={date}/>\r\n            </div> */}\r\n            \r\n            <div className=\"main-panel\">\r\n            <ul style = {{display:'block'}}>\r\n                <li style = {{display:'inline-block'}}>\r\n\r\n                {\r\n                    info.map((infoIndex)=>(\r\n                        <PlaceComponent \r\n                        id={infoIndex.id}\r\n                        name={infoIndex.name} \r\n                        image={infoIndex.image} \r\n                        description={infoIndex.description} \r\n                        rate={infoIndex.rate} \r\n                        country={infoIndex.country}\r\n                        city={infoIndex.city}\r\n                        authorized = {true}/>\r\n                    ))\r\n\r\n                }\r\n                    \r\n                </li>\r\n            </ul>\r\n            </div>\r\n            <div>\r\n                <AlertComponent authorized={true}/>\r\n            </div>\r\n            \r\n            \r\n        </div>\r\n    );\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}