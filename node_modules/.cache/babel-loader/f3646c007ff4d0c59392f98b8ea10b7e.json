{"ast":null,"code":"var _jsxFileName = \"D:\\\\MyProjects\\\\Technomoles\\\\LeisureGuruFE\\\\src\\\\components\\\\ResultPage.js\",\n    _s = $RefreshSig$();\n\nimport { React, useState, useEffect } from \"react\";\nimport { PlaceComponent } from \"./PlaceComponent\";\nimport { useLocation, useParams, useSearchParams } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const ResultPage = function () {\n  _s();\n\n  const location = useLocation();\n  let responseData = location.state.responseData;\n  const param = useParams();\n  let [searchParams, setSearchParams] = useSearchParams();\n  let i = 0;\n  const [searchQuery, setSearchQuery] = useState(location.state.responseData); //const responseData = props.responseData;\n  //console.log(JSON.stringify(responseData));\n\n  const [result, setResult] = useState([]);\n  var credentials = btoa(localStorage.getItem(\"email\") + \":\" + localStorage.getItem(\"password\"));\n  var auth = {\n    \"Authorization\": `Basic ${credentials}`\n  };\n  let id = localStorage.getItem(\"id\");\n  useEffect(() => {\n    //e.preventDefault();\n    fetch(`http://127.0.0.1:5000/filter`, {\n      method: 'POST',\n      headers: {\n        'Authorization': `Basic ${credentials}`,\n        'Content-Type': 'application/json'\n      },\n      mode: 'cors',\n      body: JSON.stringify({\n        search_box: param.search\n      })\n    }).then(response => response.json()).then(respData => {\n      setResult(respData);\n    }).catch(e => console.log(\"failed: \" + e)); // console.log(result);\n  }, []);\n  useEffect(() => {\n    console.log(\"result in useEffect: \" + result);\n  }, [result]); // ResultRequest();\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      style: {\n        display: 'block'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"li\", {\n        style: {\n          display: 'inline-block'\n        },\n        children: result && result.map(infoIndex => /*#__PURE__*/_jsxDEV(PlaceComponent, {\n          name: infoIndex.name,\n          image: infoIndex.image,\n          description: infoIndex.description,\n          rate: infoIndex.rate,\n          country: infoIndex.country,\n          city: infoIndex.city,\n          authorized: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 29\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ResultPage, \"MAzn5LcW5QveZa47jT5HDcXAMHw=\", false, function () {\n  return [useLocation, useParams, useSearchParams];\n});\n\n_c = ResultPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"ResultPage\");","map":{"version":3,"names":["React","useState","useEffect","PlaceComponent","useLocation","useParams","useSearchParams","ResultPage","location","responseData","state","param","searchParams","setSearchParams","i","searchQuery","setSearchQuery","result","setResult","credentials","btoa","localStorage","getItem","auth","id","fetch","method","headers","mode","body","JSON","stringify","search_box","search","then","response","json","respData","catch","e","console","log","display","map","infoIndex","name","image","description","rate","country","city"],"sources":["D:/MyProjects/Technomoles/LeisureGuruFE/src/components/ResultPage.js"],"sourcesContent":["import {React, useState, useEffect} from \"react\";\r\nimport {PlaceComponent} from \"./PlaceComponent\"\r\nimport { useLocation, useParams, useSearchParams } from \"react-router-dom\";\r\n\r\nexport const ResultPage = function(){\r\nconst location = useLocation();\r\nlet responseData = location.state.responseData;\r\nconst param = useParams();\r\n\r\nlet [searchParams, setSearchParams] = useSearchParams();\r\nlet i = 0;\r\n\r\nconst [searchQuery, setSearchQuery] = useState(location.state.responseData);\r\n\r\n//const responseData = props.responseData;\r\n//console.log(JSON.stringify(responseData));\r\nconst[result, setResult] = useState([]);\r\nvar credentials = btoa(localStorage.getItem(\"email\") + \":\" + localStorage.getItem(\"password\"))\r\nvar auth = { \"Authorization\" : `Basic ${credentials}` }\r\nlet id = localStorage.getItem(\"id\")\r\n\r\nuseEffect( () =>{\r\n    //e.preventDefault();\r\n        fetch(`http://127.0.0.1:5000/filter`, {\r\n            method: 'POST',\r\n                headers: { \r\n                            'Authorization' : `Basic ${credentials}`,\r\n                            'Content-Type': 'application/json'\r\n                        },\r\n                mode: 'cors',\r\n        \r\n            body: JSON.stringify(\r\n            {\r\n                search_box: param.search\r\n            }\r\n            )\r\n        })\r\n            .then(response => response.json())\r\n            .then(respData => {\r\n                setResult(respData)\r\n            })\r\n            .catch(e => console.log(\"failed: \" + e));\r\n       // console.log(result);\r\n    }, [] )\r\n\r\n    useEffect(() => {\r\n        console.log(\"result in useEffect: \" + result);\r\n    }, [result]);\r\n\r\n    // ResultRequest();\r\n    return(\r\n        \r\n    <div >\r\n        <ul style = {{display:'block'}}>\r\n            <li style = {{display:'inline-block'}}>\r\n                {\r\n                    result &&\r\n                    result.map(\r\n                        (infoIndex)=>(\r\n                            <PlaceComponent \r\n                                name={infoIndex.name} \r\n                                image={infoIndex.image} \r\n                                description={infoIndex.description} \r\n                                rate={infoIndex.rate} \r\n                                country={infoIndex.country}\r\n                                city={infoIndex.city}\r\n                                authorized = {true}/>\r\n                    ))\r\n                }\r\n                {/* {\r\n                    respName && respCity && respCountry && respDescription && respImage && respRate &&\r\n                        <PlaceComponent \r\n                        name={respName} \r\n                        image={respImage} \r\n                        description={respDescription} \r\n                        rate={respRate} \r\n                        country={respCountry}\r\n                        city={respCity}\r\n                        authorized = {true}/>\r\n                } */}\r\n                \r\n            </li>\r\n        </ul>\r\n    </div>\r\n    );\r\n}"],"mappings":";;;AAAA,SAAQA,KAAR,EAAeC,QAAf,EAAyBC,SAAzB,QAAyC,OAAzC;AACA,SAAQC,cAAR,QAA6B,kBAA7B;AACA,SAASC,WAAT,EAAsBC,SAAtB,EAAiCC,eAAjC,QAAwD,kBAAxD;;AAEA,OAAO,MAAMC,UAAU,GAAG,YAAU;EAAA;;EACpC,MAAMC,QAAQ,GAAGJ,WAAW,EAA5B;EACA,IAAIK,YAAY,GAAGD,QAAQ,CAACE,KAAT,CAAeD,YAAlC;EACA,MAAME,KAAK,GAAGN,SAAS,EAAvB;EAEA,IAAI,CAACO,YAAD,EAAeC,eAAf,IAAkCP,eAAe,EAArD;EACA,IAAIQ,CAAC,GAAG,CAAR;EAEA,MAAM,CAACC,WAAD,EAAcC,cAAd,IAAgCf,QAAQ,CAACO,QAAQ,CAACE,KAAT,CAAeD,YAAhB,CAA9C,CARoC,CAUpC;EACA;;EACA,MAAK,CAACQ,MAAD,EAASC,SAAT,IAAsBjB,QAAQ,CAAC,EAAD,CAAnC;EACA,IAAIkB,WAAW,GAAGC,IAAI,CAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,IAAgC,GAAhC,GAAsCD,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAvC,CAAtB;EACA,IAAIC,IAAI,GAAG;IAAE,iBAAmB,SAAQJ,WAAY;EAAzC,CAAX;EACA,IAAIK,EAAE,GAAGH,YAAY,CAACC,OAAb,CAAqB,IAArB,CAAT;EAEApB,SAAS,CAAE,MAAK;IACZ;IACIuB,KAAK,CAAE,8BAAF,EAAiC;MAClCC,MAAM,EAAE,MAD0B;MAE9BC,OAAO,EAAE;QACG,iBAAmB,SAAQR,WAAY,EAD1C;QAEG,gBAAgB;MAFnB,CAFqB;MAM9BS,IAAI,EAAE,MANwB;MAQlCC,IAAI,EAAEC,IAAI,CAACC,SAAL,CACN;QACIC,UAAU,EAAErB,KAAK,CAACsB;MADtB,CADM;IAR4B,CAAjC,CAAL,CAcKC,IAdL,CAcUC,QAAQ,IAAIA,QAAQ,CAACC,IAAT,EAdtB,EAeKF,IAfL,CAeUG,QAAQ,IAAI;MACdnB,SAAS,CAACmB,QAAD,CAAT;IACH,CAjBL,EAkBKC,KAlBL,CAkBWC,CAAC,IAAIC,OAAO,CAACC,GAAR,CAAY,aAAaF,CAAzB,CAlBhB,EAFQ,CAqBT;EACF,CAtBI,EAsBF,EAtBE,CAAT;EAwBIrC,SAAS,CAAC,MAAM;IACZsC,OAAO,CAACC,GAAR,CAAY,0BAA0BxB,MAAtC;EACH,CAFQ,EAEN,CAACA,MAAD,CAFM,CAAT,CAzCgC,CA6ChC;;EACA,oBAEA;IAAA,uBACI;MAAI,KAAK,EAAI;QAACyB,OAAO,EAAC;MAAT,CAAb;MAAA,uBACI;QAAI,KAAK,EAAI;UAACA,OAAO,EAAC;QAAT,CAAb;QAAA,UAEQzB,MAAM,IACNA,MAAM,CAAC0B,GAAP,CACKC,SAAD,iBACI,QAAC,cAAD;UACI,IAAI,EAAEA,SAAS,CAACC,IADpB;UAEI,KAAK,EAAED,SAAS,CAACE,KAFrB;UAGI,WAAW,EAAEF,SAAS,CAACG,WAH3B;UAII,IAAI,EAAEH,SAAS,CAACI,IAJpB;UAKI,OAAO,EAAEJ,SAAS,CAACK,OALvB;UAMI,IAAI,EAAEL,SAAS,CAACM,IANpB;UAOI,UAAU,EAAI;QAPlB;UAAA;UAAA;UAAA;QAAA,QAFR;MAHR;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA;EADJ;IAAA;IAAA;IAAA;EAAA,QAFA;AAmCH,CAjFM;;GAAM3C,U;UACIH,W,EAEHC,S,EAEwBC,e;;;KALzBC,U"},"metadata":{},"sourceType":"module"}