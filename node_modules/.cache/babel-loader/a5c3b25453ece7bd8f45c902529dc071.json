{"ast":null,"code":"import _slicedToArray from\"D:/MyProjects/Technomoles/LeisureGuruFE/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useState,useEffect}from\"react\";import{PlaceComponent}from\"./PlaceComponent\";import{useLocation,useParams,useSearchParams}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";export var ResultPage=function ResultPage(){var location=useLocation();var responseData=location.state.responseData;var param=useParams();var _useSearchParams=useSearchParams(),_useSearchParams2=_slicedToArray(_useSearchParams,2),searchParams=_useSearchParams2[0],setSearchParams=_useSearchParams2[1];var i=0;var _useState=useState(location.state.responseData),_useState2=_slicedToArray(_useState,2),searchQuery=_useState2[0],setSearchQuery=_useState2[1];//const responseData = props.responseData;\n//console.log(JSON.stringify(responseData));\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),result=_useState4[0],setResult=_useState4[1];var credentials=btoa(localStorage.getItem(\"email\")+\":\"+localStorage.getItem(\"password\"));var auth={\"Authorization\":\"Basic \".concat(credentials)};var id=localStorage.getItem(\"id\");useEffect(function(){//e.preventDefault();\nfetch(\"http://127.0.0.1:5000/filter\",{method:'POST',headers:{'Authorization':\"Basic \".concat(credentials),'Content-Type':'application/json'},mode:'cors',body:JSON.stringify({search_box:param.search})}).then(function(response){return response.json();}).then(function(respData){setResult(respData);}).catch(function(e){return console.log(\"failed: \"+e);});// console.log(result);\n},[]);useEffect(function(){console.log(\"result in useEffect: \"+result);},[result]);// ResultRequest();\nreturn/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"ul\",{style:{display:'block'},children:/*#__PURE__*/_jsx(\"li\",{style:{display:'inline-block'},children:result&&result.map(function(infoIndex){return/*#__PURE__*/_jsx(PlaceComponent,{name:infoIndex.name,image:infoIndex.image,description:infoIndex.description,rate:infoIndex.rate,country:infoIndex.country,city:infoIndex.city,authorized:true});})})})});};","map":{"version":3,"names":["React","useState","useEffect","PlaceComponent","useLocation","useParams","useSearchParams","ResultPage","location","responseData","state","param","searchParams","setSearchParams","i","searchQuery","setSearchQuery","result","setResult","credentials","btoa","localStorage","getItem","auth","id","fetch","method","headers","mode","body","JSON","stringify","search_box","search","then","response","json","respData","catch","e","console","log","display","map","infoIndex","name","image","description","rate","country","city"],"sources":["D:/MyProjects/Technomoles/LeisureGuruFE/src/components/ResultPage.js"],"sourcesContent":["import {React, useState, useEffect} from \"react\";\r\nimport {PlaceComponent} from \"./PlaceComponent\"\r\nimport { useLocation, useParams, useSearchParams } from \"react-router-dom\";\r\n\r\nexport const ResultPage = function(){\r\nconst location = useLocation();\r\nlet responseData = location.state.responseData;\r\nconst param = useParams();\r\n\r\nlet [searchParams, setSearchParams] = useSearchParams();\r\nlet i = 0;\r\n\r\nconst [searchQuery, setSearchQuery] = useState(location.state.responseData);\r\n\r\n//const responseData = props.responseData;\r\n//console.log(JSON.stringify(responseData));\r\nconst[result, setResult] = useState([]);\r\nvar credentials = btoa(localStorage.getItem(\"email\") + \":\" + localStorage.getItem(\"password\"))\r\nvar auth = { \"Authorization\" : `Basic ${credentials}` }\r\nlet id = localStorage.getItem(\"id\")\r\n\r\nuseEffect( () =>{\r\n    //e.preventDefault();\r\n        fetch(`http://127.0.0.1:5000/filter`, {\r\n            method: 'POST',\r\n                headers: { \r\n                            'Authorization' : `Basic ${credentials}`,\r\n                            'Content-Type': 'application/json'\r\n                        },\r\n                mode: 'cors',\r\n        \r\n            body: JSON.stringify(\r\n            {\r\n                search_box: param.search\r\n            }\r\n            )\r\n        })\r\n            .then(response => response.json())\r\n            .then(respData => {\r\n                setResult(respData)\r\n            })\r\n            .catch(e => console.log(\"failed: \" + e));\r\n       // console.log(result);\r\n    }, [] )\r\n\r\n    useEffect(() => {\r\n        console.log(\"result in useEffect: \" + result);\r\n    }, [result]);\r\n\r\n    // ResultRequest();\r\n    return(\r\n        \r\n    <div >\r\n        <ul style = {{display:'block'}}>\r\n            <li style = {{display:'inline-block'}}>\r\n                {\r\n                    result &&\r\n                    result.map(\r\n                        (infoIndex)=>(\r\n                            <PlaceComponent \r\n                                name={infoIndex.name} \r\n                                image={infoIndex.image} \r\n                                description={infoIndex.description} \r\n                                rate={infoIndex.rate} \r\n                                country={infoIndex.country}\r\n                                city={infoIndex.city}\r\n                                authorized = {true}/>\r\n                    ))\r\n                }\r\n                {/* {\r\n                    respName && respCity && respCountry && respDescription && respImage && respRate &&\r\n                        <PlaceComponent \r\n                        name={respName} \r\n                        image={respImage} \r\n                        description={respDescription} \r\n                        rate={respRate} \r\n                        country={respCountry}\r\n                        city={respCity}\r\n                        authorized = {true}/>\r\n                } */}\r\n                \r\n            </li>\r\n        </ul>\r\n    </div>\r\n    );\r\n}"],"mappings":"6HAAA,OAAQA,KAAR,CAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,OAAQC,cAAR,KAA6B,kBAA7B,CACA,OAASC,WAAT,CAAsBC,SAAtB,CAAiCC,eAAjC,KAAwD,kBAAxD,C,2CAEA,MAAO,IAAMC,WAAU,CAAG,QAAbA,WAAa,EAAU,CACpC,GAAMC,SAAQ,CAAGJ,WAAW,EAA5B,CACA,GAAIK,aAAY,CAAGD,QAAQ,CAACE,KAAT,CAAeD,YAAlC,CACA,GAAME,MAAK,CAAGN,SAAS,EAAvB,CAEA,qBAAsCC,eAAe,EAArD,sDAAKM,YAAL,sBAAmBC,eAAnB,sBACA,GAAIC,EAAC,CAAG,CAAR,CAEA,cAAsCb,QAAQ,CAACO,QAAQ,CAACE,KAAT,CAAeD,YAAhB,CAA9C,wCAAOM,WAAP,eAAoBC,cAApB,eAEA;AACA;AACA,eAA2Bf,QAAQ,CAAC,EAAD,CAAnC,yCAAMgB,MAAN,eAAcC,SAAd,eACA,GAAIC,YAAW,CAAGC,IAAI,CAACC,YAAY,CAACC,OAAb,CAAqB,OAArB,EAAgC,GAAhC,CAAsCD,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAvC,CAAtB,CACA,GAAIC,KAAI,CAAG,CAAE,gCAA2BJ,WAA3B,CAAF,CAAX,CACA,GAAIK,GAAE,CAAGH,YAAY,CAACC,OAAb,CAAqB,IAArB,CAAT,CAEApB,SAAS,CAAE,UAAK,CACZ;AACIuB,KAAK,gCAAiC,CAClCC,MAAM,CAAE,MAD0B,CAE9BC,OAAO,CAAE,CACG,gCAA2BR,WAA3B,CADH,CAEG,eAAgB,kBAFnB,CAFqB,CAM9BS,IAAI,CAAE,MANwB,CAQlCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CACN,CACIC,UAAU,CAAErB,KAAK,CAACsB,MADtB,CADM,CAR4B,CAAjC,CAAL,CAcKC,IAdL,CAcU,SAAAC,QAAQ,QAAIA,SAAQ,CAACC,IAAT,EAAJ,EAdlB,EAeKF,IAfL,CAeU,SAAAG,QAAQ,CAAI,CACdnB,SAAS,CAACmB,QAAD,CAAT,CACH,CAjBL,EAkBKC,KAlBL,CAkBW,SAAAC,CAAC,QAAIC,QAAO,CAACC,GAAR,CAAY,WAAaF,CAAzB,CAAJ,EAlBZ,EAmBD;AACF,CAtBI,CAsBF,EAtBE,CAAT,CAwBIrC,SAAS,CAAC,UAAM,CACZsC,OAAO,CAACC,GAAR,CAAY,wBAA0BxB,MAAtC,EACH,CAFQ,CAEN,CAACA,MAAD,CAFM,CAAT,CAIA;AACA,mBAEA,kCACI,WAAI,KAAK,CAAI,CAACyB,OAAO,CAAC,OAAT,CAAb,uBACI,WAAI,KAAK,CAAI,CAACA,OAAO,CAAC,cAAT,CAAb,UAEQzB,MAAM,EACNA,MAAM,CAAC0B,GAAP,CACI,SAACC,SAAD,qBACI,KAAC,cAAD,EACI,IAAI,CAAEA,SAAS,CAACC,IADpB,CAEI,KAAK,CAAED,SAAS,CAACE,KAFrB,CAGI,WAAW,CAAEF,SAAS,CAACG,WAH3B,CAII,IAAI,CAAEH,SAAS,CAACI,IAJpB,CAKI,OAAO,CAAEJ,SAAS,CAACK,OALvB,CAMI,IAAI,CAAEL,SAAS,CAACM,IANpB,CAOI,UAAU,CAAI,IAPlB,EADJ,EADJ,CAHR,EADJ,EADJ,EAFA,CAmCH,CAjFM"},"metadata":{},"sourceType":"module"}